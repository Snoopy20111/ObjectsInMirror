[gd_scene load_steps=30 format=3 uid="uid://cdnmcjribmmdi"]

[ext_resource type="Script" path="res://Scripts/Main_Road_01.gd" id="1_kcnd1"]
[ext_resource type="PackedScene" uid="uid://1kusc5juq828" path="res://Scenes/Prefabs/Shared_CanvasModulate.tscn" id="2_bsrmj"]
[ext_resource type="PackedScene" uid="uid://seuyyo3omuoe" path="res://Scenes/Actors/PlayerCar.tscn" id="3_ywue1"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2D.gd" id="4_gytpx"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="5_yx6e4"]
[ext_resource type="PackedScene" uid="uid://em0kg5ssleqa" path="res://Scenes/Prefabs/Trigger_LoadScene.tscn" id="6_gypmv"]
[ext_resource type="Curve2D" uid="uid://cwj3rnu74am4a" path="res://Customs/Curves/RoadPieces/Main_Road_01.tres" id="7_3p4o1"]
[ext_resource type="Script" path="res://addons/linepath2d/linepath2d.gd" id="8_jtxs8"]
[ext_resource type="Texture2D" uid="uid://cxym1lqfpdf3" path="res://Sprites/Environment/Road/Road007_256-PNG_Color.png" id="9_i6tle"]
[ext_resource type="Texture2D" uid="uid://dii42whr8jsn6" path="res://Sprites/Environment/Road/Road007_256-PNG_Normal-DX.png" id="10_w56oj"]
[ext_resource type="Texture2D" uid="uid://byxi35s8xcf8l" path="res://Sprites/Environment/Road/Road007_256-PNG_Specular-Roughness.png" id="11_uvsq2"]
[ext_resource type="Texture2D" uid="uid://dq6koupunqtky" path="res://Sprites/Environment/Road/Gravel039_256_Diffuse.png" id="12_6n16q"]
[ext_resource type="Texture2D" uid="uid://bfkehd00r68se" path="res://Sprites/Environment/Road/Gravel039_256_NormalDX.png" id="13_sx7cy"]
[ext_resource type="Texture2D" uid="uid://dwe12ljcmuli2" path="res://Sprites/Environment/Road/Gravel039_256_Specular.png" id="14_ppk6f"]
[ext_resource type="Texture2D" uid="uid://ba7oa1h07tpxj" path="res://Sprites/Environment/spritesheet_tiles.png" id="15_yfe0x"]
[ext_resource type="PackedScene" uid="uid://bhyko8joax145" path="res://Scenes/Prefabs/Trees/Tree.tscn" id="16_sywl8"]
[ext_resource type="PackedScene" uid="uid://cup1w15t2fbhu" path="res://Scenes/Prefabs/Trees/Tree_BasicShadows.tscn" id="17_s6b5g"]

[sub_resource type="Gradient" id="Gradient_7ho15"]
interpolation_mode = 2
offsets = PackedFloat32Array(0, 0.290323, 1)
colors = PackedColorArray(0.75, 0.75, 0.75, 1, 0.267421, 0.278472, 0.281787, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_41bhm"]
gradient = SubResource("Gradient_7ho15")
use_hdr = true
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(0, 0.5)

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_y7kk1"]
light_mode = 1

[sub_resource type="Resource" id="Resource_so0o3"]
script = ExtResource("5_yx6e4")
duration = 0.0
transition = 0
ease = 2

[sub_resource type="Curve" id="Curve_li8xw"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0]
point_count = 1

[sub_resource type="CanvasTexture" id="CanvasTexture_k6yoi"]
diffuse_texture = ExtResource("9_i6tle")
normal_texture = ExtResource("10_w56oj")
specular_texture = ExtResource("11_uvsq2")
specular_shininess = 0.1
texture_filter = 1
texture_repeat = 2

[sub_resource type="CanvasTexture" id="CanvasTexture_rb88t"]
diffuse_texture = ExtResource("12_6n16q")
normal_texture = ExtResource("13_sx7cy")
specular_texture = ExtResource("14_ppk6f")
specular_shininess = 0.1
texture_filter = 1
texture_repeat = 2

[sub_resource type="TileSet" id="TileSet_g8cd0"]
tile_size = Vector2i(32, 32)

[sub_resource type="TileMapPattern" id="TileMapPattern_n7swy"]
tile_data = PackedInt32Array(0, 786432, 2, 65536, 786432, 2, 1, 786432, 2, 65537, 786432, 2)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_3qp77"]
resource_name = "RacingPackTerrain"
texture = ExtResource("15_yfe0x")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
12:0/0 = 0
13:0/0 = 0
14:0/0 = 0
15:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
10:1/0 = 0
11:1/0 = 0
12:1/0 = 0
13:1/0 = 0
14:1/0 = 0
15:1/0 = 0
0:2/next_alternative_id = 4
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0
12:2/0 = 0
13:2/0 = 0
14:2/0 = 0
15:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
6:3/0 = 0
7:3/0 = 0
8:3/0 = 0
9:3/0 = 0
10:3/0 = 0
11:3/0 = 0
12:3/0 = 0
13:3/0 = 0
14:3/0 = 0
15:3/0 = 0
16:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
10:4/0 = 0
11:4/0 = 0
12:4/0 = 0
13:4/0 = 0
14:4/0 = 0
15:4/0 = 0
0:5/0 = 0
1:5/0 = 0
2:5/0 = 0
3:5/0 = 0
4:5/0 = 0
5:5/0 = 0
6:5/0 = 0
7:5/0 = 0
8:5/0 = 0
9:5/0 = 0
10:5/0 = 0
11:5/0 = 0
12:5/0 = 0
13:5/0 = 0
14:5/0 = 0
15:5/0 = 0
16:5/0 = 0
0:6/0 = 0
1:6/0 = 0
2:6/0 = 0
3:6/0 = 0
4:6/0 = 0
5:6/0 = 0
6:6/0 = 0
7:6/0 = 0
8:6/0 = 0
9:6/0 = 0
10:6/0 = 0
11:6/0 = 0
12:6/0 = 0
13:6/0 = 0
14:6/0 = 0
15:6/0 = 0
16:6/0 = 0
0:7/0 = 0
1:7/0 = 0
2:7/0 = 0
3:7/0 = 0
4:7/0 = 0
5:7/0 = 0
6:7/0 = 0
7:7/0 = 0
8:7/0 = 0
9:7/0 = 0
10:7/0 = 0
11:7/0 = 0
12:7/0 = 0
13:7/0 = 0
14:7/0 = 0
15:7/0 = 0
16:7/0 = 0
0:8/0 = 0
1:8/0 = 0
2:8/0 = 0
3:8/0 = 0
4:8/0 = 0
5:8/0 = 0
6:8/0 = 0
7:8/0 = 0
8:8/0 = 0
9:8/0 = 0
10:8/0 = 0
11:8/0 = 0
12:8/0 = 0
13:8/0 = 0
14:8/0 = 0
15:8/0 = 0
16:8/0 = 0
0:9/next_alternative_id = 2
0:9/0 = 0
1:9/0 = 0
2:9/0 = 0
3:9/0 = 0
4:9/0 = 0
5:9/0 = 0
6:9/0 = 0
7:9/0 = 0
8:9/0 = 0
9:9/0 = 0
10:9/0 = 0
11:9/0 = 0
12:9/0 = 0
13:9/0 = 0
14:9/0 = 0
15:9/0 = 0
16:9/0 = 0
0:10/0 = 0
1:10/0 = 0
2:10/0 = 0
3:10/0 = 0
4:10/0 = 0
5:10/0 = 0
6:10/0 = 0
7:10/0 = 0
8:10/0 = 0
9:10/0 = 0
10:10/0 = 0
11:10/0 = 0
12:10/0 = 0
13:10/0 = 0
14:10/0 = 0
15:10/0 = 0
16:10/0 = 0
0:11/0 = 0
1:11/0 = 0
2:11/0 = 0
3:11/0 = 0
4:11/0 = 0
5:11/0 = 0
6:11/0 = 0
7:11/0 = 0
8:11/0 = 0
9:11/0 = 0
10:11/0 = 0
11:11/0 = 0
12:11/0 = 0
13:11/0 = 0
14:11/0 = 0
15:11/0 = 0
16:11/0 = 0
0:12/0 = 0
1:12/0 = 0
2:12/0 = 0
3:12/0 = 0
4:12/0 = 0
5:12/0 = 0
6:12/0 = 0
7:12/0 = 0
8:12/0 = 0
9:12/0 = 0
10:12/0 = 0
11:12/0 = 0
12:12/0 = 0
13:12/0 = 0
14:12/0 = 0
15:12/0 = 0
16:12/0 = 0
0:13/0 = 0
1:13/0 = 0
2:13/0 = 0
3:13/0 = 0
4:13/0 = 0
5:13/0 = 0
6:13/0 = 0
7:13/0 = 0
8:13/0 = 0
9:13/0 = 0
10:13/0 = 0
11:13/0 = 0
12:13/0 = 0
13:13/0 = 0
14:13/0 = 0
15:13/0 = 0
16:13/0 = 0
0:14/0 = 0
1:14/0 = 0
2:14/0 = 0
3:14/0 = 0
4:14/0 = 0
5:14/0 = 0
6:14/0 = 0
7:14/0 = 0
8:14/0 = 0
9:14/0 = 0
10:14/0 = 0
11:14/0 = 0
12:14/0 = 0
13:14/0 = 0
14:14/0 = 0
15:14/0 = 0
16:14/0 = 0
0:15/0 = 0
1:15/0 = 0
2:15/0 = 0
3:15/0 = 0
4:15/0 = 0
5:15/0 = 0
6:15/0 = 0
7:15/0 = 0
8:15/0 = 0
9:15/0 = 0
10:15/0 = 0
11:15/0 = 0
12:15/0 = 0
13:15/0 = 0
14:15/0 = 0
15:15/0 = 0
16:15/0 = 0
0:16/0 = 0
1:16/0 = 0
2:16/0 = 0
3:16/0 = 0
4:16/0 = 0
5:16/0 = 0
6:16/0 = 0
7:16/0 = 0
8:16/0 = 0
9:16/0 = 0
10:16/0 = 0
11:16/0 = 0
12:16/0 = 0
13:16/0 = 0
14:16/0 = 0
15:16/0 = 0
16:16/0 = 0
0:17/0 = 0
1:17/0 = 0
2:17/0 = 0
3:17/0 = 0
4:17/0 = 0
5:17/0 = 0
6:17/0 = 0
7:17/0 = 0
8:17/0 = 0
9:17/0 = 0
10:17/0 = 0
11:17/0 = 0
12:17/0 = 0
13:17/0 = 0
14:17/0 = 0
15:17/0 = 0
16:17/0 = 0
16:4/0 = 0
16:2/0 = 0
16:1/0 = 0
16:0/0 = 0
17:2/0 = 0
17:1/0 = 0
17:0/0 = 0
17:3/0 = 0
17:4/0 = 0
17:5/0 = 0

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_yug4o"]
resource_name = "Trees"
scenes/1/scene = ExtResource("16_sywl8")
scenes/2/scene = ExtResource("17_s6b5g")

[sub_resource type="TileSet" id="TileSet_mjv86"]
tile_size = Vector2i(128, 128)
sources/0 = SubResource("TileSetAtlasSource_3qp77")
sources/1 = SubResource("TileSetScenesCollectionSource_yug4o")
pattern_0 = SubResource("TileMapPattern_n7swy")

[node name="Main_Road_01" type="Node2D"]
script = ExtResource("1_kcnd1")

[node name="Timers" type="Node" parent="."]

[node name="Timer_ToFirstDialogue" type="Timer" parent="Timers"]
wait_time = 1.5
one_shot = true
autostart = true

[node name="Lighting" type="Node" parent="."]

[node name="CanvasModulate" parent="Lighting" instance=ExtResource("2_bsrmj")]
visible = false

[node name="PlayerCar" parent="." groups=["scene_manager_entity_nodes"] instance=ExtResource("3_ywue1")]
rotation = -1.5708
metadata/entity_name = "PlayerCar"

[node name="Camera_Target_01" type="Node2D" parent="PlayerCar"]
position = Vector2(265, 0)
rotation = 1.5708

[node name="PointLight2D" type="PointLight2D" parent="PlayerCar"]
position = Vector2(36, 0.00013032)
scale = Vector2(11.239, 11.239)
color = Color(1, 0.839216, 0.666667, 1)
energy = 0.6
shadow_enabled = true
shadow_filter = 1
shadow_filter_smooth = 1.0
texture = SubResource("GradientTexture2D_41bhm")
height = 100.0
metadata/_edit_lock_ = true

[node name="PhantomCamera2D" type="Node2D" parent="."]
z_index = 1000
material = SubResource("CanvasItemMaterial_y7kk1")
position = Vector2(0, -249.999)
script = ExtResource("4_gytpx")
priority_override = false
priority = 1
zoom = Vector2(0.8, 0.8)
follow_mode = 1
follow_target = NodePath("../PlayerCar/Camera_Target_01")
follow_parameters/damping = true
follow_parameters/damping_value = 3.745
frame_preview = true
pixel_perfect = false
limit/draw_limits = true
limit/left = -21000
limit/top = -20000
limit/right = 5000
limit/bottom = 1000
limit/limit_node_target = NodePath("")
limit/smoothed = true
tween_parameters = SubResource("Resource_so0o3")
tween_on_load = true
inactive_update_mode = 0
metadata/_edit_lock_ = true

[node name="Triggers" type="Node" parent="."]

[node name="Trigger_Next" parent="Triggers" instance=ExtResource("6_gypmv")]
z_index = 1220
position = Vector2(4739, -4092)
sceneToLoad = "res://Scenes/Test_2D.tscn"

[node name="Environment" type="Node" parent="."]

[node name="Road" type="Path2D" parent="Environment"]
curve = ExtResource("7_3p4o1")
script = ExtResource("8_jtxs8")
_curve = ExtResource("7_3p4o1")
width = 365.0
width_profile = SubResource("Curve_li8xw")
fill_texture = SubResource("CanvasTexture_k6yoi")
fill_texture_mode = 1
cap_joint_mode = 2
border_antialiased = true
metadata/_edit_lock_ = true

[node name="RoadLiner" type="Path2D" parent="Environment/Road"]
show_behind_parent = true
curve = ExtResource("7_3p4o1")
script = ExtResource("8_jtxs8")
_curve = ExtResource("7_3p4o1")
width = 470.0
width_profile = SubResource("Curve_li8xw")
fill_texture = SubResource("CanvasTexture_rb88t")
fill_texture_mode = 1
cap_joint_mode = 2
border_antialiased = true
metadata/_edit_lock_ = true

[node name="Tilemap_Trees" type="TileMap" parent="Environment"]
tile_set = SubResource("TileSet_g8cd0")
format = 2
metadata/_edit_lock_ = true

[node name="TileMap_Ground" type="TileMap" parent="Environment"]
z_index = -10
position = Vector2(-30, 0)
tile_set = SubResource("TileSet_mjv86")
format = 2
metadata/_edit_lock_ = true

[connection signal="timeout" from="Timers/Timer_ToFirstDialogue" to="." method="_on_timer_to_first_dialogue_timeout"]
