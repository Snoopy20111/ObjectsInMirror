[gd_scene load_steps=12 format=3 uid="uid://c7pdtxv88cwso"]

[ext_resource type="Script" path="res://Scripts/GameManager.gd" id="1_5l7ox"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="2_pjsjq"]
[ext_resource type="Shader" path="res://Scripts/Shaders/ChromaticAberration.gdshader" id="3_on2om"]
[ext_resource type="Shader" path="res://Scripts/Shaders/ScreenVignette.gdshader" id="4_1vc3t"]
[ext_resource type="Shader" path="res://Scripts/Shaders/ScreenRain.gdshader" id="4_15mvm"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_2D.gd" id="6_i4lbt"]
[ext_resource type="Shader" path="res://Scripts/Shaders/Screenshake.gdshader" id="6_r8hfb"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0jrbg"]
shader = ExtResource("4_1vc3t")
shader_parameter/alpha = 0.4
shader_parameter/inner_radius = 0.8
shader_parameter/outer_radius = 1.1

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0wnut"]
shader = ExtResource("4_15mvm")
shader_parameter/count = 150
shader_parameter/slant = -0.01
shader_parameter/speed = 50.0
shader_parameter/blur = 0.002
shader_parameter/colour = Color(1, 1, 1, 1)
shader_parameter/size = Vector2(0.005, 0.2)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ptbrq"]
shader = ExtResource("3_on2om")
shader_parameter/wiggle_value = 1.0
shader_parameter/offset = 0.5

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5h2e0"]
shader = ExtResource("6_r8hfb")
shader_parameter/ShakeStrength = 0.0
shader_parameter/FactorA = Vector2(100, 100)
shader_parameter/FactorB = Vector2(1, 1)
shader_parameter/magnitude = Vector2(0.01, 0.01)

[node name="GameManager" type="Node" groups=["scene_manager_entity_nodes"]]
script = ExtResource("1_5l7ox")
fullscreen_effects = [NodePath("Camera2D/FullscreenCanvas/Vignette"), NodePath("Camera2D/FullscreenCanvas/ChromaticAbberation"), NodePath("Camera2D/FullscreenCanvas/Rain"), NodePath("Camera2D/FullscreenCanvas/ScreenShake")]
metadata/entity_name = "GameManager"

[node name="Camera2D" type="Camera2D" parent="."]

[node name="PhantomCameraHost" type="Node" parent="Camera2D"]
script = ExtResource("2_pjsjq")

[node name="AkListener2D" type="AkListener2D" parent="Camera2D"]

[node name="FullscreenCanvas" type="CanvasLayer" parent="Camera2D"]
layer = 2

[node name="Vignette" type="ColorRect" parent="Camera2D/FullscreenCanvas"]
visible = false
material = SubResource("ShaderMaterial_0jrbg")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="Rain" type="ColorRect" parent="Camera2D/FullscreenCanvas"]
visible = false
material = SubResource("ShaderMaterial_0wnut")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="ChromaticAbberation" type="ColorRect" parent="Camera2D/FullscreenCanvas"]
visible = false
material = SubResource("ShaderMaterial_ptbrq")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="ScreenShake" type="ColorRect" parent="Camera2D/FullscreenCanvas"]
visible = false
material = SubResource("ShaderMaterial_5h2e0")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="BackupPhantomCamera2D" type="Node2D" parent="."]
script = ExtResource("6_i4lbt")
priority_override = false
priority = 0
zoom = Vector2(1, 1)
follow_mode = 0
frame_preview = true
pixel_perfect = false
limit/draw_limits = false
limit/left = -10000000
limit/top = -10000000
limit/right = 10000000
limit/bottom = 10000000
limit/limit_node_target = NodePath("")
limit/smoothed = false
tween_parameters = null
tween_on_load = true
inactive_update_mode = 0
